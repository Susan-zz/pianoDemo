<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>A Piano kit</title>
        <link rel="stylesheet" href="static/style.css">
    </head>
    <body>
        <div style="position:absolute; width:100%; height:100%; z-index:-1; left:0; top:0;"> 
            <img src="static/img/background4.jpg" height="100%" width="100%" style="left:0; top:0;"> 
        </div>
        <div class="pianoKeys">
                <div class="key" data-key="49">
                        <kbd>C</kbd>
                        <div class="blackKey"></div>  
                    </div>                      
                    <div class="key" data-key="50">
                        <kbd>D</kbd>
                        <div class="blackKey"></div>
                    </div>
                    <div class="key" data-key="51">
                        <kbd>E</kbd>
                    </div>
                    <div class="key" data-key="52">
                        <kbd>F</kbd>
                        <div class="blackKey"></div>
                    </div>
                    <div class="key" data-key="53">
                        <kbd>G</kbd>
                        <div class="blackKey"></div>
                    </div>
                    <div class="key" data-key="54">
                        <kbd>A</kbd>
                        <div class="blackKey"></div>
                    </div>
                    <div class="key" data-key="55">
                        <kbd>B</kbd>
                    </div>
            <div class="key" data-key="97">
                <kbd>C1</kbd>
                <div class="blackKey"></div>
            </div>
            <div class="key" data-key="98">
                <kbd>D1</kbd>
                <div class="blackKey"></div>
            </div>
            <div class="key" data-key="99">
                <kbd>E1</kbd>
            </div>
            <div class="key" data-key="100">
                <kbd>F1</kbd>
                <div class="blackKey"></div>
            </div>
            <div class="key" data-key="101">
                <kbd>G1</kbd>
                <div class="blackKey"></div>
            </div>
            <div class="key" data-key="102">
                <kbd>A1</kbd>
                <div class="blackKey"></div>
            </div>
            <div class="key" data-key="103">
                <kbd>B1</kbd>
            </div>
            <div class="key" data-key="104">
                    <kbd>C2</kbd>
                    <div class="blackKey"></div>
                </div>
                <div class="key" data-key="105">
                    <kbd>D2</kbd>
                    <div class="blackKey"></div>
                </div>
                <div class="key" data-key="90">
                    <kbd>E2</kbd>
                </div>
                <div class="key" data-key="100">
                    <kbd>F2</kbd>
                    <div class="blackKey"></div>
                </div>
                <div class="key" data-key="101">
                    <kbd>G2</kbd>
                    <div class="blackKey"></div>
                </div>
                <div class="key" data-key="102">
                    <kbd>A2</kbd>
                    <div class="blackKey"></div>
                </div>
                <div class="key" data-key="103">
                    <kbd>B2</kbd>
                </div>
        </div>

        <audio data-key="49" src="sounds/pianoKeys88/049.wav"></audio>
        <audio data-key="50" src="sounds/pianoKeys88/051.wav"></audio>
        <audio data-key="51" src="sounds/pianoKeys88/053.wav"></audio>
        <audio data-key="52" src="sounds/pianoKeys88/054.wav"></audio>
        <audio data-key="53" src="sounds/pianoKeys88/056.wav"></audio>
        <audio data-key="54" src="sounds/pianoKeys88/058.wav"></audio>
        <audio data-key="55" src="sounds/pianoKeys88/060.wav"></audio>

        <audio data-key="97" src="sounds/pianoKeys88/061.wav"></audio>
        <audio data-key="98" src="sounds/pianoKeys88/063.wav"></audio>
        <audio data-key="99" src="sounds/pianoKeys88/065.wav"></audio>
        <audio data-key="100" src="sounds/pianoKeys88/066.wav"></audio>
        <audio data-key="101" src="sounds/pianoKeys88/068.wav"></audio>
        <audio data-key="102" src="sounds/pianoKeys88/070.wav"></audio>
        <audio data-key="103" src="sounds/pianoKeys88/072.wav"></audio>

        <audio data-key="104" src="sounds/pianoKeys88/073.wav"></audio>
        <audio data-key="105" src="sounds/pianoKeys88/075.wav"></audio>
        <audio data-key="90" src="sounds/1_C.wav"></audio>
        <audio data-key="" src=""></audio>
        <audio data-key="" src=""></audio>
        <audio data-key="" src=""></audio>
        <audio data-key="" src=""></audio>

        <script>
            function removeTransition(event){
                if(event.propertyName !== 'transform') return;
                event.target.classList.remove('playing');
            }

            function playSound(event){
                const audio = document.querySelector(`audio[data-key = "${event.keyCode}"]`);
                const key = document.querySelector(`div[data-key = "${event.keyCode}"]`);
                if(!audio) return;

                key.classList.add('playing');
                audio.currentTime = 0;
                audio.play();
            }

            const keys = Array.from(document.querySelectorAll('.key'));
            keys.forEach(key => key.addEventListener('transitionend',removeTransition));
            window.addEventListener('keydown',playSound);
        </script>

    </body>

</html>